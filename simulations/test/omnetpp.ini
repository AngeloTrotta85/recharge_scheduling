[General]
network = Net80211test
#record-eventlog = true
#eventlog-message-detail-pattern = *:(not declaredOn(cMessage) and not declaredOn(cNamedObject) and not declaredOn(cObject))

num-rngs = 3
**.mobility.rng-0 = 1
**.wlan[*].mac.rng-0 = 2
#debug-on-errors = true


**.statistic-recording = false
**.scalar-recording = false
**.vector-recording = false

tkenv-plugin-path = ../../../etc/plugins

**.constraintAreaMinX = 0m
**.constraintAreaMinY = 0m
**.constraintAreaMinZ = 0m
**.constraintAreaMaxX = 600m
**.constraintAreaMaxY = 400m
**.constraintAreaMaxZ = 0m

# mobility
**.host*.mobilityType = "VirtualSpringMobility"
**.host*.mobility.initialX = normal(300m, 50m)
**.host*.mobility.initialY = normal(200m, 50m)
**.host*.mobility.initFromDisplayString = false
**.host*.mobility.updateInterval = 100ms
**.host*.mobility.defaultStiffness = 0.5

*.numHosts = 4

# ping app (host[0] pinged by others)
*.host[*].numUdpApps = 1
*.host[*].udpApp[*].typename = "UDPRechargeBasic"

**.udpApp[0].localPort = 100
**.udpApp[0].destPort = 100
#**.udpApp[0].messageLength = 1250B
**.udpApp[0].messageLength = 512B
#**.udpApp[0].sendInterval = 1s
**.udpApp[0].sendInterval = truncnormal(1s, 0.02s)
**.udpApp[0].destAddresses = "255.255.255.255"
**.udpApp[0].localAddress = ""
**.udpApp[0].receiveBroadcast = true
#**.udpApp[0].startTime = truncnormal(5s, 1s)
**.udpApp[0].startTime = 0s


**.host[*].networkLayerType = "IPv4ExtNetworkLayer"
**.host[*].udpType = "UDPExt"

**.ip.forceBroadcast = true

# nic settings
**.wlan[*].bitrate = 2Mbps

**.wlan[*].mgmt.frameCapacity = 10

**.wlan[*].mac.address = "auto"
**.wlan[*].mac.maxQueueSize = 14
**.wlan[*].mac.rtsThresholdBytes = 3000B
**.wlan[*].mac.retryLimit = 7
**.wlan[*].mac.cwMinData = 7
**.wlan[*].mac.cwMinBroadcast = 31

**.wlan[*].macType = "Ieee80211MacExt"
**.wlan[*].mgmtType = "Ieee80211MgmtAdhocExt"

**.wlan[*].radio.transmitter.power = 100mW
**.wlan[*].radio.receiver.sensitivity = -85dBm
**.wlan[*].radio.receiver.snirThreshold = 4dB

**.wlan[*].radio.receiverType = "Ieee80211ScalarReceiverExt"

**.host[*].battery.nominalCapacity = 1000000J
**.host[*].battery.initialCapacity = 130000J
**.host[*].battery.dischargingFactor = 100W
**.host[*].battery.swapHeightFactor = 4J
**.host[*].battery.flightHeight = 25m

**.udpApp[0].chargingStationNumber = 1
**.udpApp[0].checkRechargeTimer = 20s
**.udpApp[0].sensorRadious = 50m

[Config TestBase]
description = "TestBase"

repeat = 4

**.udpApp[0].*.scalar-recording = true
**.udpApp[0].*.vector-recording = true
**.host[*].battery.*.scalar-recording = true
**.host[*].battery.*.vector-recording = true

**.constraintAreaMaxX = 600m
**.constraintAreaMaxY = 400m

*.numHosts = 10

**.host*.mobility.defaultStiffness = 0.5

**.udpApp[0].sendInterval = truncnormal(1s, 0.02s)
**.udpApp[0].startTime = 0s

**.host[*].battery.nominalCapacity = 10000000J
**.host[*].battery.initialCapacity = 120000J
**.host[*].battery.dischargingFactor = 100W
**.host[*].battery.chargingFactor = 25W
**.host[*].battery.swapHeightFactor = 5J
**.host[*].battery.flightHeight = 25m
**.udpApp[0].checkRechargeTimer = 20s
**.udpApp[0].sensorRadious = 50m

output-vector-file = ${resultdir}/${configname}/${runnumber}.vec
output-scalar-file = ${resultdir}/${configname}/${runnumber}.sca

[Config TestBaseANALYTICAL]
extends = TestBase
description = "TestBaseANALYTICAL"

*.host[*].udpApp[*].typename = "UDPRechargeAnalytical"

# THE COMMUNICATION IS USELESS IN ANALYTICAL SCHEDULING
**.udpApp[0].sendInterval = truncnormal(20s, 0.02s)

**.udpApp[0].schedulingType = "ANALYTICAL"
#**.udpApp[0].schedulingType = "ROUNDROBIN"    
 
**.udpApp[0].analticalLogFile = "${resultdir}/${configname}/${runnumber}.log"
**.udpApp[0].printAnalticalLog = true  


[Config TestBaseROUNDROBIN]
extends = TestBase
description = "TestBaseROUNDROBIN"

*.host[*].udpApp[*].typename = "UDPRechargeAnalytical"

# THE COMMUNICATION IS USELESS IN ANALYTICAL SCHEDULING
**.udpApp[0].sendInterval = truncnormal(20s, 0.02s)

#**.udpApp[0].schedulingType = "ANALYTICAL"
**.udpApp[0].schedulingType = "ROUNDROBIN"    

**.udpApp[0].roundrobinRechargeSize = 2    
**.udpApp[0].analticalLogFile = "${resultdir}/${configname}/${runnumber}.log"
**.udpApp[0].printAnalticalLog = true  



[Config TestBasePROBABILISTIC]
extends = TestBase
description = "TestBasePROBABILISTIC"

*.host[*].udpApp[*].typename = "UDPRechargeProbabilistic"

# THE COMMUNICATION IS USELESS IN PROBABILISTIC SCHEDULING
**.udpApp[0].sendInterval = truncnormal(20s, 0.02s)

**.udpApp[0].useDischargeProbability = false
**.udpApp[0].chargeSlots = 1



[Config TestBaseSTIMULUS]
extends = TestBase
description = "TestBaseSTIMULUS"

*.host[*].udpApp[*].typename = "UDPRechargeStimulus"

**.udpApp[0].stimulusExponent = 1
**.udpApp[0].numRechargeSlotsStimulusZeroNeigh = 3
**.udpApp[0].chargeLengthType = "AVG"
**.udpApp[0].stationANDnodeKNOWN = true
**.udpApp[0].chargeTimeOthersNodeFactor = 0.5
**.udpApp[0].makeLowEnergyFactorCurves = true
**.udpApp[0].useProbabilisticDischarge = false
**.udpApp[0].useQuadraticProbabilisticDischarge = false

